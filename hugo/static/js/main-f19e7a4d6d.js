!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";return function(h,i,e,t){var m={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var r=0;r<t.length;r++)t[r]&&e[o](t[r],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){m.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){m.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(m.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(m.features)return m.features;var e=m.createEl().style,t="",n={};if(n.oldIE=document.all&&!document.addEventListener,n.touch="ontouchstart"in window,window.requestAnimationFrame&&(n.raf=window.requestAnimationFrame,n.caf=window.cancelAnimationFrame),n.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!n.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var o=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);o&&0<o.length&&1<=(o=parseInt(o[1],10))&&o<8&&(n.isOldIOSPhone=!0)}var r=i.match(/Android\s([0-9\.]*)/),a=r?r[1]:0;1<=(a=parseFloat(a))&&(a<4.4&&(n.isOldAndroid=!0),n.androidVersion=a),n.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var s,l,u=["transform","perspective","animationName"],c=["","webkit","Moz","ms","O"],d=0;d<4;d++){t=c[d];for(var p=0;p<3;p++)s=u[p],l=t+(t?s.charAt(0).toUpperCase()+s.slice(1):s),!n[s]&&l in e&&(n[s]=l);t&&!n.raf&&(t=t.toLowerCase(),n.raf=window[t+"RequestAnimationFrame"],n.raf&&(n.caf=window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]))}if(!n.raf){var h=0;n.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-h)),i=window.setTimeout(function(){e(t+n)},n);return h=t+n,i},n.caf=function(e){clearTimeout(e)}}return n.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,m.features=n}};m.detectFeatures(),m.features.oldIE&&(m.bind=function(e,t,n,i){t=t.split(" ");for(var o,r=(i?"detach":"attach")+"Event",a=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"==typeof n&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=a;e[r]("on"+o,n["oldIE"+o])}else e[r]("on"+o,n)});var f=this,g={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};m.extend(g,t);var l,o,r,y,a,s,u,c,d,v,p,b,w,x,E,I,_,k,C,T,S,P,A,O,z,F,L,D,M,R,W,N,j,B,q,Z,H,U,$,Y,G,K,n,V,Q,X,J,ee,te,ne,ie,oe,re,ae,se,le,ue={x:0,y:0},ce={x:0,y:0},de={x:0,y:0},pe={},he=0,me={},fe={x:0,y:0},ge=0,ye=!0,ve=[],be={},we=!1,xe=function(e,t){m.extend(f,t.publicMethods),ve.push(e)},Ee=function(e){var t=Bt();return t-1<e?e-t:e<0?t+e:e},Ie={},_e=function(e,t){return Ie[e]||(Ie[e]=[]),Ie[e].push(t)},ke=function(e){var t=Ie[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(f,n)}},Ce=function(){return(new Date).getTime()},Te=function(e){ae=e,f.bg.style.opacity=e*g.bgOpacity},Se=function(e,t,n,i,o){(!we||o&&o!==f.currItem)&&(i/=o?o.fitRatio:f.currItem.fitRatio),e[P]=b+t+"px, "+n+"px"+w+" scale("+i+")"},Pe=function(e){te&&(e&&(v>f.currItem.fitRatio?we||(Vt(f.currItem,!1,!0),we=!0):we&&(Vt(f.currItem),we=!1)),Se(te,de.x,de.y,v))},Ae=function(e){e.container&&Se(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},Oe=function(e,t){t[P]=b+e+"px, 0px"+w},ze=function(e,t){if(!g.loop&&t){var n=y+(fe.x*he-e)/fe.x,i=Math.round(e-ct.x);(n<0&&0<i||n>=Bt()-1&&i<0)&&(e=ct.x+i*g.mainScrollEndFriction)}ct.x=e,Oe(e,a)},Fe=function(e,t){var n=dt[e]-me[e];return ce[e]+ue[e]+n-n*(t/p)},Le=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},De=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},Me=null,Re=function(){Me&&(m.unbind(document,"mousemove",Re),m.addClass(h,"pswp--has_mouse"),g.mouseUsed=!0,ke("mouseUsed")),Me=setTimeout(function(){Me=null},100)},We=function(e,t){var n=$t(f.currItem,pe,e);return t&&(ee=n),n},Ne=function(e){return e||(e=f.currItem),e.initialZoomLevel},je=function(e){return e||(e=f.currItem),0<e.w?g.maxSpreadZoom:1},Be=function(e,t,n,i){return i===f.currItem.initialZoomLevel?(n[e]=f.currItem.initialPosition[e],!0):(n[e]=Fe(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},qe=function(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]()))},Ze=function(e){e&&(K||G||ne||H)&&(e.preventDefault(),e.stopPropagation())},He=function(){f.setScrollOffset(0,m.getScrollY())},Ue={},$e=0,Ye=function(e){Ue[e]&&(Ue[e].raf&&F(Ue[e].raf),$e--,delete Ue[e])},Ge=function(e){Ue[e]&&Ye(e),Ue[e]||($e++,Ue[e]={})},Ke=function(){for(var e in Ue)Ue.hasOwnProperty(e)&&Ye(e)},Ve=function(e,t,n,i,o,r,a){var s,l=Ce();Ge(e);var u=function(){if(Ue[e]){if(s=Ce()-l,i<=s)return Ye(e),r(n),void(a&&a());r((n-t)*o(s/i)+t),Ue[e].raf=z(u)}};u()},Qe={shout:ke,listen:_e,viewportSize:pe,options:g,isMainScrollAnimating:function(){return ne},getZoomLevel:function(){return v},getCurrentIndex:function(){return y},isDragging:function(){return $},isZooming:function(){return X},setScrollOffset:function(e,t){me.x=e,R=me.y=t,ke("updateScrollOffset",me)},applyZoomPan:function(e,t,n,i){de.x=t,de.y=n,v=e,Pe(i)},init:function(){if(!l&&!o){var e;f.framework=m,f.template=h,f.bg=m.getChildByClass(h,"pswp__bg"),L=h.className,l=!0,W=m.detectFeatures(),z=W.raf,F=W.caf,P=W.transform,M=W.oldIE,f.scrollWrap=m.getChildByClass(h,"pswp__scroll-wrap"),f.container=m.getChildByClass(f.scrollWrap,"pswp__container"),a=f.container.style,f.itemHolders=I=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],I[0].el.style.display=I[2].el.style.display="none",function(){if(P){var e=W.perspective&&!O;return b="translate"+(e?"3d(":"("),w=W.perspective?", 0px)":")"}P="left",m.addClass(h,"pswp--ie"),Oe=function(e,t){t.left=e+"px"},Ae=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},Pe=function(){if(te){var e=te,t=f.currItem,n=1<t.fitRatio?1:t.fitRatio,i=n*t.w,o=n*t.h;e.width=i+"px",e.height=o+"px",e.left=de.x+"px",e.top=de.y+"px"}}}(),d={resize:f.updateSize,orientationchange:function(){clearTimeout(N),N=setTimeout(function(){pe.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:He,keydown:qe,click:Ze};var t=W.isOldIOSPhone||W.isOldAndroid||W.isMobileOpera;for(W.animationName&&W.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<ve.length;e++)f["init"+ve[e]]();i&&(f.ui=new i(f,m)).init(),ke("firstUpdate"),y=y||g.index||0,(isNaN(y)||y<0||y>=Bt())&&(y=0),f.currItem=jt(y),(W.isOldIOSPhone||W.isOldAndroid)&&(ye=!1),h.setAttribute("aria-hidden","false"),g.modal&&(ye?h.style.position="fixed":(h.style.position="absolute",h.style.top=m.getScrollY()+"px")),void 0===R&&(ke("initialLayout"),R=D=m.getScrollY());var n="pswp--open ";for(g.mainClass&&(n+=g.mainClass+" "),g.showHideOpacity&&(n+="pswp--animate_opacity "),n+=O?"pswp--touch":"pswp--notouch",n+=W.animationName?" pswp--css_animation":"",n+=W.svg?" pswp--svg":"",m.addClass(h,n),f.updateSize(),s=-1,ge=null,e=0;e<3;e++)Oe((e+s)*fe.x,I[e].el.style);M||m.bind(f.scrollWrap,c,f),_e("initialZoomInEnd",function(){f.setContent(I[0],y-1),f.setContent(I[2],y+1),I[0].el.style.display=I[2].el.style.display="block",g.focus&&h.focus(),m.bind(document,"keydown",f),W.transform&&m.bind(f.scrollWrap,"click",f),g.mouseUsed||m.bind(document,"mousemove",Re),m.bind(window,"resize scroll orientationchange",f),ke("bindEvents")}),f.setContent(I[1],y),f.updateCurrItem(),ke("afterInit"),ye||(x=setInterval(function(){$e||$||X||v!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),m.addClass(h,"pswp--visible")}},close:function(){l&&(o=!(l=!1),ke("close"),m.unbind(window,"resize scroll orientationchange",f),m.unbind(window,"scroll",d.scroll),m.unbind(document,"keydown",f),m.unbind(document,"mousemove",Re),W.transform&&m.unbind(f.scrollWrap,"click",f),$&&m.unbind(window,u,f),clearTimeout(N),ke("unbindEvents"),qt(f.currItem,null,!0,f.destroy))},destroy:function(){ke("destroy"),Mt&&clearTimeout(Mt),h.setAttribute("aria-hidden","true"),h.className=L,x&&clearInterval(x),m.unbind(f.scrollWrap,c,f),m.unbind(window,"scroll",f),mt(),Ke(),Ie=null},panTo:function(e,t,n){n||(e>ee.min.x?e=ee.min.x:e<ee.max.x&&(e=ee.max.x),t>ee.min.y?t=ee.min.y:t<ee.max.y&&(t=ee.max.y)),de.x=e,de.y=t,Pe()},handleEvent:function(e){e=e||window.event,d[e.type]&&d[e.type](e)},goTo:function(e){var t=(e=Ee(e))-y;ge=t,y=e,f.currItem=jt(y),he-=t,ze(fe.x*he),Ke(),ne=!1,f.updateCurrItem()},next:function(){f.goTo(y+1)},prev:function(){f.goTo(y-1)},updateCurrZoomItem:function(e){if(e&&ke("beforeChange",0),I[1].el.children.length){var t=I[1].el.children[0];te=m.hasClass(t,"pswp__zoom-wrap")?t.style:null}else te=null;ee=f.currItem.bounds,p=v=f.currItem.initialZoomLevel,de.x=ee.center.x,de.y=ee.center.y,e&&ke("afterChange")},invalidateCurrItems:function(){E=!0;for(var e=0;e<3;e++)I[e].item&&(I[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==ge){var t,n=Math.abs(ge);if(!(e&&n<2)){f.currItem=jt(y),we=!1,ke("beforeChange",ge),3<=n&&(s+=ge+(0<ge?-3:3),n=3);for(var i=0;i<n;i++)0<ge?(t=I.shift(),I[2]=t,Oe((++s+2)*fe.x,t.el.style),f.setContent(t,y-n+i+1+1)):(t=I.pop(),I.unshift(t),Oe(--s*fe.x,t.el.style),f.setContent(t,y+n-i-1-1));if(te&&1===Math.abs(ge)){var o=jt(_);o.initialZoomLevel!==v&&($t(o,pe),Vt(o),Ae(o))}ge=0,f.updateCurrZoomItem(),_=y,ke("afterChange")}}},updateSize:function(e){if(!ye&&g.modal){var t=m.getScrollY();if(R!==t&&(h.style.top=t+"px",R=t),!e&&be.x===window.innerWidth&&be.y===window.innerHeight)return;be.x=window.innerWidth,be.y=window.innerHeight,h.style.height=be.y+"px"}if(pe.x=f.scrollWrap.clientWidth,pe.y=f.scrollWrap.clientHeight,He(),fe.x=pe.x+Math.round(pe.x*g.spacing),fe.y=pe.y,ze(fe.x*he),ke("beforeResize"),void 0!==s){for(var n,i,o,r=0;r<3;r++)n=I[r],Oe((r+s)*fe.x,n.el.style),o=y+r-1,g.loop&&2<Bt()&&(o=Ee(o)),(i=jt(o))&&(E||i.needsUpdate||!i.bounds)?(f.cleanSlide(i),f.setContent(n,o),1===r&&(f.currItem=i,f.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&f.setContent(n,o),i&&i.container&&($t(i,pe),Vt(i),Ae(i));E=!1}p=v=f.currItem.initialZoomLevel,(ee=f.currItem.bounds)&&(de.x=ee.center.x,de.y=ee.center.y,Pe(!0)),ke("resize")},zoomTo:function(t,e,n,i,o){e&&(p=v,dt.x=Math.abs(e.x)-de.x,dt.y=Math.abs(e.y)-de.y,Le(ce,de));var r=We(t,!1),a={};Be("x",r,a,t),Be("y",r,a,t);var s=v,l=de.x,u=de.y;De(a);var c=function(e){de.y=1===e?(v=t,de.x=a.x,a.y):(v=(t-s)*e+s,de.x=(a.x-l)*e+l,(a.y-u)*e+u),o&&o(e),Pe(1===e)};n?Ve("customZoomTo",0,1,n,i||m.easing.sine.inOut,c):c(1)}},Xe={},Je={},et={},tt={},nt={},it=[],ot={},rt=[],at={},st=0,lt={x:0,y:0},ut=0,ct={x:0,y:0},dt={x:0,y:0},pt={x:0,y:0},ht=function(e,t){return at.x=Math.abs(e.x-t.x),at.y=Math.abs(e.y-t.y),Math.sqrt(at.x*at.x+at.y*at.y)},mt=function(){n&&(F(n),n=null)},ft=function(){$&&(n=z(ft),Pt())},gt=function(e,t){return!(!e||e===document)&&!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:gt(e.parentNode,t))},yt={},vt=function(e,t){return yt.prevent=!gt(e.target,g.isClickableElement),ke("preventDragEvent",e,t,yt),yt.prevent},bt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},wt=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},xt=function(){var e=de.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(pe.y/2))},Et={},It={},_t=[],kt=function(e){for(;0<_t.length;)_t.pop();return A?(le=0,it.forEach(function(e){0===le?_t[0]=e:1===le&&(_t[1]=e),le++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(_t[0]=bt(e.touches[0],Et),1<e.touches.length&&(_t[1]=bt(e.touches[1],It))):(Et.x=e.pageX,Et.y=e.pageY,Et.id="",_t[0]=Et),_t},Ct=function(e,t){var n,i,o,r,a=de[e]+t[e],s=0<t[e],l=ct.x+t.x,u=ct.x-ot.x;if(n=a>ee.min[e]||a<ee.max[e]?g.panEndFriction:1,a=de[e]+t[e]*n,(g.allowPanToNext||v===f.currItem.initialZoomLevel)&&(te?"h"!==ie||"x"!==e||G||(s?(a>ee.min[e]&&(n=g.panEndFriction,ee.min[e],i=ee.min[e]-ce[e]),(i<=0||u<0)&&1<Bt()?(r=l,u<0&&l>ot.x&&(r=ot.x)):ee.min.x!==ee.max.x&&(o=a)):(a<ee.max[e]&&(n=g.panEndFriction,ee.max[e],i=ce[e]-ee.max[e]),(i<=0||0<u)&&1<Bt()?(r=l,0<u&&l<ot.x&&(r=ot.x)):ee.min.x!==ee.max.x&&(o=a))):r=l,"x"===e))return void 0!==r&&(ze(r,!0),V=r!==ot.x),ee.min.x!==ee.max.x&&(void 0!==o?de.x=o:V||(de.x+=t.x*n)),void 0!==r;ne||V||v>f.currItem.fitRatio&&(de[e]+=t[e]*n)},Tt=function(e){if(!("mousedown"===e.type&&0<e.button))if(Nt)e.preventDefault();else if(!U||"mousedown"!==e.type){if(vt(e,!0)&&e.preventDefault(),ke("pointerDown"),A){var t=m.arraySearch(it,e.pointerId,"id");t<0&&(t=it.length),it[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=kt(e),i=n.length;Q=null,Ke(),$&&1!==i||($=oe=!0,m.bind(window,u,f),Z=se=re=H=V=K=Y=G=!1,ie=null,ke("firstTouchStart",n),Le(ce,de),ue.x=ue.y=0,Le(tt,n[0]),Le(nt,tt),ot.x=fe.x*he,rt=[{x:tt.x,y:tt.y}],B=j=Ce(),We(v,!0),mt(),ft()),!X&&1<i&&!ne&&!V&&(p=v,X=Y=!(G=!1),ue.y=ue.x=0,Le(ce,de),Le(Xe,n[0]),Le(Je,n[1]),wt(Xe,Je,pt),dt.x=Math.abs(pt.x)-de.x,dt.y=Math.abs(pt.y)-de.y,J=ht(Xe,Je))}},St=function(e){if(e.preventDefault(),A){var t=m.arraySearch(it,e.pointerId,"id");if(-1<t){var n=it[t];n.x=e.pageX,n.y=e.pageY}}if($){var i=kt(e);if(ie||K||X)Q=i;else if(ct.x!==fe.x*he)ie="h";else{var o=Math.abs(i[0].x-tt.x)-Math.abs(i[0].y-tt.y);10<=Math.abs(o)&&(ie=0<o?"h":"v",Q=i)}}},Pt=function(){if(Q){var e,t,n=Q.length;if(0!==n)if(Le(Xe,Q[0]),et.x=Xe.x-tt.x,et.y=Xe.y-tt.y,X&&1<n){if(tt.x=Xe.x,tt.y=Xe.y,!et.x&&!et.y&&(e=Q[1],t=Je,e.x===t.x&&e.y===t.y))return;Le(Je,Q[1]),G||(G=!0,ke("zoomGestureStarted"));var i=ht(Xe,Je),o=Lt(i);o>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(se=!0);var r=1,a=Ne(),s=je();if(o<a)if(g.pinchToClose&&!se&&p<=f.currItem.initialZoomLevel){var l=1-(a-o)/(a/1.2);Te(l),ke("onPinchClose",l),re=!0}else 1<(r=(a-o)/a)&&(r=1),o=a-r*(a/3);else s<o&&(1<(r=(o-s)/(6*a))&&(r=1),o=s+r*a);r<0&&(r=0),wt(Xe,Je,lt),ue.x+=lt.x-pt.x,ue.y+=lt.y-pt.y,Le(pt,lt),de.x=Fe("x",o),de.y=Fe("y",o),Z=v<o,v=o,Pe()}else{if(!ie)return;if(oe&&(oe=!1,10<=Math.abs(et.x)&&(et.x-=Q[0].x-nt.x),10<=Math.abs(et.y)&&(et.y-=Q[0].y-nt.y)),tt.x=Xe.x,tt.y=Xe.y,0===et.x&&0===et.y)return;if("v"===ie&&g.closeOnVerticalDrag&&"fit"===g.scaleMode&&v===f.currItem.initialZoomLevel){ue.y+=et.y,de.y+=et.y;var u=xt();return H=!0,ke("onVerticalDrag",u),Te(u),void Pe()}!function(e,t,n){if(50<e-B){var i=2<rt.length?rt.shift():{};i.x=t,i.y=n,rt.push(i),B=e}}(Ce(),Xe.x,Xe.y),K=!0,ee=f.currItem.bounds,Ct("x",et)||(Ct("y",et),De(de),Pe())}}},At=function(e){if(W.isOldAndroid){if(U&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(U),U=setTimeout(function(){U=0},600))}var t;if(ke("pointerUp"),vt(e,!1)&&e.preventDefault(),A){var n=m.arraySearch(it,e.pointerId,"id");-1<n&&(t=it.splice(n,1)[0],navigator.msPointerEnabled?(t.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],t.type||(t.type=e.pointerType||"mouse")):t.type=e.pointerType||"mouse")}var i,o=kt(e),r=o.length;if("mouseup"===e.type&&(r=0),2===r)return!(Q=null);1===r&&Le(nt,o[0]),0!==r||ie||ne||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ke("touchRelease",e,t));var a=-1;if(0===r&&($=!1,m.unbind(window,u,f),mt(),X?a=0:-1!==ut&&(a=Ce()-ut)),ut=1===r?Ce():-1,i=-1!==a&&a<150?"zoom":"swipe",X&&r<2&&(X=!1,1===r&&(i="zoomPointerUp"),ke("zoomGestureEnded")),Q=null,K||G||ne||H)if(Ke(),q||(q=Ot()),q.calculateSwipeSpeed("x"),H)if(xt()<g.verticalDragRange)f.close();else{var s=de.y,l=ae;Ve("verticalDrag",0,1,300,m.easing.cubic.out,function(e){de.y=(f.currItem.initialPosition.y-s)*e+s,Te((1-l)*e+l),Pe()}),ke("onVerticalDrag",1)}else{if((V||ne)&&0===r){if(Ft(i,q))return;i="zoomPointerUp"}ne||("swipe"===i?!V&&v>f.currItem.fitRatio&&zt(q):Dt())}},Ot=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<rt.length?(t=Ce()-B+50,rt[rt.length-2][e]):(t=Ce()-j,nt[e]),i.lastFlickOffset[e]=tt[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(de[t]>ee.min[t]?i.backAnimDestination[t]=ee.min[t]:de[t]<ee.max[t]&&(i.backAnimDestination[t]=ee.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,Ve("bounceZoomPan"+t,de[t],i.backAnimDestination[t],e||300,m.easing.sine.out,function(e){de[t]=e,Pe()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,de[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(Ue.zoomPan&&(Ue.zoomPan.raf=z(i.panAnimLoop),i.now=Ce(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),Pe(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return de.x=Math.round(de.x),de.y=Math.round(de.y),Pe(),void Ye("zoomPan")}};return i},zt=function(e){if(e.calculateSwipeSpeed("y"),ee=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Ge("zoomPan"),e.lastNow=Ce(),e.panAnimLoop()},Ft=function(e,t){var n,i,o;if(ne||(st=y),"swipe"===e){var r=tt.x-nt.x,a=t.lastFlickDist.x<10;30<r&&(a||20<t.lastFlickOffset.x)?i=-1:r<-30&&(a||t.lastFlickOffset.x<-20)&&(i=1)}i&&((y+=i)<0?(y=g.loop?Bt()-1:0,o=!0):y>=Bt()&&(y=g.loop?0:Bt()-1,o=!0),o&&!g.loop||(ge+=i,he-=i,n=!0));var s,l=fe.x*he,u=Math.abs(l-ct.x);return s=n||l>ct.x==0<t.lastFlickSpeed.x?(s=0<Math.abs(t.lastFlickSpeed.x)?u/Math.abs(t.lastFlickSpeed.x):333,s=Math.min(s,400),Math.max(s,250)):333,st===y&&(n=!1),ne=!0,ke("mainScrollAnimStart"),Ve("mainScroll",ct.x,l,s,m.easing.cubic.out,ze,function(){Ke(),ne=!1,st=-1,(n||st!==y)&&f.updateCurrItem(),ke("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},Lt=function(e){return 1/J*e*p},Dt=function(){var e=v,t=Ne(),n=je();v<t?e=t:n<v&&(e=n);var i,o=ae;return re&&!Z&&!se&&v<t?f.close():(re&&(i=function(e){Te((1-o)*e+o)}),f.zoomTo(e,0,200,m.easing.cubic.out,i)),!0};xe("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,i,o){k=e+t,C=e+n,T=e+i,S=o?e+o:""};(A=W.pointerEvent)&&W.touch&&(W.touch=!1),A?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):W.touch?(e("touch","start","move","end","cancel"),O=!0):e("mouse","down","move","up"),u=C+" "+T+" "+S,c=k,A&&!O&&(O=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=O,d[k]=Tt,d[C]=St,d[T]=At,S&&(d[S]=d[T]),W.touch&&(c+=" mousedown",u+=" mousemove mouseup",d.mousedown=d[k],d.mousemove=d[C],d.mouseup=d[T]),O||(g.allowPanToNext=!1)}}});var Mt,Rt,Wt,Nt,jt,Bt,qt=function(a,e,s,t){var l;Mt&&clearTimeout(Mt),Wt=Nt=!0,a.initialLayout?(l=a.initialLayout,a.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(y);var u,c,d=s?g.hideAnimationDuration:g.showAnimationDuration,p=function(){Ye("initialZoom"),s?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(Te(1),e&&(e.style.display="block"),m.addClass(h,"pswp--animated-in"),ke("initialZoom"+(s?"OutEnd":"InEnd"))),t&&t(),Nt=!1};if(!d||!l||void 0===l.x)return ke("initialZoom"+(s?"Out":"In")),v=a.initialZoomLevel,Le(de,a.initialPosition),Pe(),h.style.opacity=s?0:1,Te(1),void(d?setTimeout(function(){p()},d):p());u=r,c=!f.currItem.src||f.currItem.loadError||g.showHideOpacity,a.miniImg&&(a.miniImg.style.webkitBackfaceVisibility="hidden"),s||(v=l.w/a.w,de.x=l.x,de.y=l.y-D,f[c?"template":"bg"].style.opacity=.001,Pe()),Ge("initialZoom"),s&&!u&&m.removeClass(h,"pswp--animated-in"),c&&(s?m[(u?"remove":"add")+"Class"](h,"pswp--animate_opacity"):setTimeout(function(){m.addClass(h,"pswp--animate_opacity")},30)),Mt=setTimeout(function(){if(ke("initialZoom"+(s?"Out":"In")),s){var t=l.w/a.w,n=de.x,i=de.y,o=v,r=ae,e=function(e){de.y=1===e?(v=t,de.x=l.x,l.y-R):(v=(t-o)*e+o,de.x=(l.x-n)*e+n,(l.y-R-i)*e+i),Pe(),c?h.style.opacity=1-e:Te(r-e*r)};u?Ve("initialZoom",0,1,d,m.easing.cubic.out,e,p):(e(1),Mt=setTimeout(p,d+20))}else v=a.initialZoomLevel,Le(de,a.initialPosition),Pe(),Te(1),c?h.style.opacity=1:Te(1),Mt=setTimeout(p,d+20)},s?25:90)},Zt={},Ht=[],Ut={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Rt.length}},$t=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds;var i,o,r,a,s=!n;if(s&&(e.vGap||(e.vGap={top:0,bottom:0}),ke("parseVerticalMargin",e)),Zt.x=t.x,Zt.y=t.y-e.vGap.top-e.vGap.bottom,s){var l=Zt.x/e.w,u=Zt.y/e.h;e.fitRatio=l<u?l:u;var c=g.scaleMode;"orig"===c?n=1:"fit"===c&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}return n?(o=(i=e).w*n,r=e.h*n,(a=i.bounds).center.x=Math.round((Zt.x-o)/2),a.center.y=Math.round((Zt.y-r)/2)+i.vGap.top,a.max.x=o>Zt.x?Math.round(Zt.x-o):a.center.x,a.max.y=r>Zt.y?Math.round(Zt.y-r)+i.vGap.top:a.center.y,a.min.x=o>Zt.x?0:a.center.x,a.min.y=r>Zt.y?i.vGap.top:a.center.y,s&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},Yt=function(e,t,n,i,o,r){t.loadError||i&&(t.imageAppended=!0,Vt(t,i,t===f.currItem&&we),n.appendChild(i),r&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},Gt=function(e){e.loading=!0,e.loaded=!1;var t=e.img=m.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},Kt=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),!0},Vt=function(e,t,n){if(e.src){t||(t=e.container.lastChild);var i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px"}},Qt=function(){if(Ht.length){for(var e,t=0;t<Ht.length;t++)(e=Ht[t]).holder.index===e.index&&Yt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Ht=[]}};xe("Controller",{publicMethods:{lazyLoadItem:function(e){e=Ee(e);var t=jt(e);t&&(!t.loaded&&!t.loading||E)&&(ke("gettingData",e,t),t.src&&Gt(t))},initController:function(){m.extend(g,Ut,!0),f.items=Rt=e,jt=f.getItemAt,Bt=g.getNumItemsFn,g.loop,Bt()<3&&(g.loop=!1),_e("beforeChange",function(e){var t,n=g.preload,i=null===e||0<=e,o=Math.min(n[0],Bt()),r=Math.min(n[1],Bt());for(t=1;t<=(i?r:o);t++)f.lazyLoadItem(y+t);for(t=1;t<=(i?o:r);t++)f.lazyLoadItem(y-t)}),_e("initialLayout",function(){f.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(y)}),_e("mainScrollAnimComplete",Qt),_e("initialZoomInEnd",Qt),_e("destroy",function(){for(var e,t=0;t<Rt.length;t++)(e=Rt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Ht=null})},getItemAt:function(e){return 0<=e&&void 0!==Rt[e]&&Rt[e]},allowProgressiveImg:function(){return g.forceProgressiveLoading||!O||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=Ee(n));var e=f.getItemAt(t.index);e&&(e.container=null);var i,o=f.getItemAt(n);if(o){ke("gettingData",n,o),t.index=n;var r=(t.item=o).container=m.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?r.appendChild(o.html):r.innerHTML=o.html),Kt(o),$t(o,pe),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&((i=m.createEl("pswp__img","img")).style.opacity=1,i.src=o.src,Vt(o,i),Yt(0,o,r,i));else{if(o.loadComplete=function(e){if(l){if(t&&t.index===n){if(Kt(e,!0))return e.loadComplete=e.img=null,$t(e,pe),Ae(e),void(t.index===y&&f.updateCurrZoomItem());e.imageAppended?!Nt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):W.transform&&(ne||Nt)?Ht.push({item:e,baseDiv:r,img:e.img,index:n,holder:t,clearPlaceholder:!0}):Yt(0,e,r,e.img,0,!0)}e.loadComplete=null,e.img=null,ke("imageLoadComplete",n,e)}},m.features.transform){var a="pswp__img pswp__img--placeholder";a+=o.msrc?"":" pswp__img--placeholder--blank";var s=m.createEl(a,o.msrc?"img":"");o.msrc&&(s.src=o.msrc),Vt(o,s),r.appendChild(s),o.placeholder=s}o.loading||Gt(o),f.allowProgressiveImg()&&(!Wt&&W.transform?Ht.push({item:o,baseDiv:r,img:o.img,index:n,holder:t}):Yt(0,o,r,o.img,0,!0))}Wt||n!==y?Ae(o):(te=r.style,qt(o,i||o.img)),t.el.innerHTML="",t.el.appendChild(r)}else t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var Xt,Jt,en={},tn=function(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)};xe("Tap",{publicMethods:{initTap:function(){_e("firstTouchStart",f.onTapStart),_e("touchRelease",f.onTapRelease),_e("destroy",function(){en={},Xt=null})},onTapStart:function(e){1<e.length&&(clearTimeout(Xt),Xt=null)},onTapRelease:function(e,t){var n,i;if(t&&!K&&!Y&&!$e){var o=t;if(Xt&&(clearTimeout(Xt),Xt=null,n=o,i=en,Math.abs(n.x-i.x)<25&&Math.abs(n.y-i.y)<25))return void ke("doubleTap",o);if("mouse"===t.type)return void tn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||m.hasClass(e.target,"pswp__single-tap"))return void tn(e,t);Le(en,o),Xt=setTimeout(function(){tn(e,t),Xt=null},300)}}}}),xe("DesktopZoom",{publicMethods:{initDesktopZoom:function(){M||(O?_e("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Jt={};var t="wheel mousewheel DOMMouseScroll";_e("bindEvents",function(){m.bind(h,t,f.handleMouseWheel)}),_e("unbindEvents",function(){Jt&&m.unbind(h,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var n,i=function(){f.mouseZoomedIn&&(m.removeClass(h,"pswp--zoomed-in"),f.mouseZoomedIn=!1),v<1?m.addClass(h,"pswp--zoom-allowed"):m.removeClass(h,"pswp--zoom-allowed"),o()},o=function(){n&&(m.removeClass(h,"pswp--dragging"),n=!1)};_e("resize",i),_e("afterChange",i),_e("pointerDown",function(){f.mouseZoomedIn&&(n=!0,m.addClass(h,"pswp--dragging"))}),_e("pointerUp",o),e||i()},handleMouseWheel:function(e){if(v<=f.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||$e||$?e.preventDefault():P&&2<Math.abs(e.deltaY)&&(r=!0,f.close())),!0;if(e.stopPropagation(),Jt.x=0,"deltaX"in e)1===e.deltaMode?(Jt.x=18*e.deltaX,Jt.y=18*e.deltaY):(Jt.x=e.deltaX,Jt.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(Jt.x=-.16*e.wheelDeltaX),e.wheelDeltaY?Jt.y=-.16*e.wheelDeltaY:Jt.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;Jt.y=e.detail}We(v,!0);var t=de.x-Jt.x,n=de.y-Jt.y;(g.modal||t<=ee.min.x&&t>=ee.max.x&&n<=ee.min.y&&n>=ee.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:pe.x/2+me.x,y:pe.y/2+me.y};var t=g.getDoubleTapZoom(!0,f.currItem),n=v===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),m[(n?"remove":"add")+"Class"](h,"pswp--zoomed-in")}}});var nn,on,rn,an,sn,ln,un,cn,dn,pn,hn,mn,fn={history:!0,galleryUID:1},gn=function(){return hn.hash.substring(1)},yn=function(){nn&&clearTimeout(nn),rn&&clearTimeout(rn)},vn=function(){var e=gn(),t={};if(e.length<5)return t;var n,i=e.split("&");for(n=0;n<i.length;n++)if(i[n]){var o=i[n].split("=");o.length<2||(t[o[0]]=o[1])}if(g.galleryPIDs){var r=t.pid;for(n=t.pid=0;n<Rt.length;n++)if(Rt[n].pid===r){t.pid=n;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t},bn=function(){if(rn&&clearTimeout(rn),$e||$)rn=setTimeout(bn,500);else{an?clearTimeout(on):an=!0;var e=y+1,t=jt(y);t.hasOwnProperty("pid")&&(e=t.pid);var n=un+"&gid="+g.galleryUID+"&pid="+e;cn||-1===hn.hash.indexOf(n)&&(pn=!0);var i=hn.href.split("#")[0]+"#"+n;mn?"#"+n!==window.location.hash&&history[cn?"replaceState":"pushState"]("",document.title,i):cn?hn.replace(i):hn.hash=n,cn=!0,on=setTimeout(function(){an=!1},60)}};xe("History",{publicMethods:{initHistory:function(){if(m.extend(g,fn,!0),g.history){hn=window.location,cn=dn=pn=!1,un=gn(),mn="pushState"in history,-1<un.indexOf("gid=")&&(un=(un=un.split("&gid=")[0]).split("?gid=")[0]),_e("afterChange",f.updateURL),_e("unbindEvents",function(){m.unbind(window,"hashchange",f.onHashChange)});var e=function(){ln=!0,dn||(pn?history.back():un?hn.hash=un:mn?history.pushState("",document.title,hn.pathname+hn.search):hn.hash=""),yn()};_e("unbindEvents",function(){r&&e()}),_e("destroy",function(){ln||e()}),_e("firstUpdate",function(){y=vn().pid});var t=un.indexOf("pid=");-1<t&&"&"===(un=un.substring(0,t)).slice(-1)&&(un=un.slice(0,-1)),setTimeout(function(){l&&m.bind(window,"hashchange",f.onHashChange)},40)}},onHashChange:function(){if(gn()===un)return dn=!0,void f.close();an||(sn=!0,f.goTo(vn().pid),sn=!1)},updateURL:function(){yn(),sn||(cn?nn=setTimeout(bn,800):bn())}}}),m.extend(f,Qe)}}),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipeUI_Default=t()}(this,function(){"use strict";return function(o,s){var n,l,r,a,t,i,u,c,d,e,p,h,m,f,g,y,v,b,w=this,x=!1,E=!0,I=!0,_={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return o.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return o.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},k=function(e){if(y)return!0;e=e||window.event,g.timeToIdle&&g.mouseUsed&&!d&&L();for(var t,n,i=(e.target||e.srcElement).getAttribute("class")||"",o=0;o<W.length;o++)(t=W[o]).onTap&&-1<i.indexOf("pswp__"+t.name)&&(t.onTap(),n=!0);if(n){e.stopPropagation&&e.stopPropagation(),y=!0;var r=s.features.isOldAndroid?600:30;setTimeout(function(){y=!1},r)}},C=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},T=function(){var e=1===g.getNumItemsFn();e!==f&&(C(l,"ui--one-slide",e),f=e)},S=function(){C(u,"share-modal--hidden",I)},P=function(){return(I=!I)?(s.removeClass(u,"pswp__share-modal--fade-in"),setTimeout(function(){I&&S()},300)):(S(),setTimeout(function(){I||s.addClass(u,"pswp__share-modal--fade-in")},30)),I||O(),!1},A=function(e){var t=(e=e||window.event).target||e.srcElement;return o.shout("shareLinkClick",e,t),!(!t.href||!t.hasAttribute("download")&&(window.open(t.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),I||P(),1))},O=function(){for(var e,t,n,i,o="",r=0;r<g.shareButtons.length;r++)e=g.shareButtons[r],t=g.getImageURLForShare(e),n=g.getPageURLForShare(e),i=g.getTextForShare(e),o+='<a href="'+e.url.replace("{{url}}",encodeURIComponent(n)).replace("{{image_url}}",encodeURIComponent(t)).replace("{{raw_image_url}}",t).replace("{{text}}",encodeURIComponent(i))+'" target="_blank" class="pswp__share--'+e.id+'"'+(e.download?"download":"")+">"+e.label+"</a>",g.parseShareButtonOut&&(o=g.parseShareButtonOut(e,o));u.children[0].innerHTML=o,u.children[0].onclick=A},z=function(e){for(var t=0;t<g.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+g.closeElClasses[t]))return!0},F=0,L=function(){clearTimeout(b),F=0,d&&w.setIdle(!1)},D=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!==t.nodeName||(clearTimeout(b),b=setTimeout(function(){w.setIdle(!0)},g.timeToIdleOutside))},M=function(e){h!==e&&(C(p,"preloader--active",!e),h=e)},R=function(e){var t=e.vGap;if(!o.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth){var n=g.barsSize;if(g.captionEl&&"auto"===n.bottom)if(a||((a=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),l.insertBefore(a,r),s.addClass(l,"pswp__ui--fit")),g.addCaptionHTMLFn(e,a,!0)){var i=a.clientHeight;t.bottom=parseInt(i,10)||44}else t.bottom=n.top;else t.bottom="auto"===n.bottom?0:n.bottom;t.top=n.top}else t.top=t.bottom=0},W=[{name:"caption",option:"captionEl",onInit:function(e){r=e}},{name:"share-modal",option:"shareEl",onInit:function(e){u=e},onTap:function(){P()}},{name:"button--share",option:"shareEl",onInit:function(e){i=e},onTap:function(){P()}},{name:"button--zoom",option:"zoomEl",onTap:o.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){t=e}},{name:"button--close",option:"closeEl",onTap:o.close},{name:"button--arrow--left",option:"arrowEl",onTap:o.prev},{name:"button--arrow--right",option:"arrowEl",onTap:o.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){n.isFullscreen()?n.exit():n.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){p=e}}];w.init=function(){var t;s.extend(o.options,_,!0),g=o.options,l=s.getChildByClass(o.scrollWrap,"pswp__ui"),(e=o.listen)("onVerticalDrag",function(e){E&&e<.95?w.hideControls():!E&&.95<=e&&w.showControls()}),e("onPinchClose",function(e){E&&e<.9?(w.hideControls(),t=!0):t&&!E&&.9<e&&w.showControls()}),e("zoomGestureEnded",function(){(t=!1)&&!E&&w.showControls()}),e("beforeChange",w.update),e("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(g.getDoubleTapZoom(!1,o.currItem),e,333)}),e("preventDragEvent",function(e,t,n){var i=e.target||e.srcElement;i&&i.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<i.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(i.tagName))&&(n.prevent=!1)}),e("bindEvents",function(){s.bind(l,"pswpTap click",k),s.bind(o.scrollWrap,"pswpTap",w.onGlobalTap),o.likelyTouchDevice||s.bind(o.scrollWrap,"mouseover",w.onMouseOver)}),e("unbindEvents",function(){I||P(),v&&clearInterval(v),s.unbind(document,"mouseout",D),s.unbind(document,"mousemove",L),s.unbind(l,"pswpTap click",k),s.unbind(o.scrollWrap,"pswpTap",w.onGlobalTap),s.unbind(o.scrollWrap,"mouseover",w.onMouseOver),n&&(s.unbind(document,n.eventK,w.updateFullscreen),n.isFullscreen()&&(g.hideAnimationDuration=0,n.exit()),n=null)}),e("destroy",function(){g.captionEl&&(a&&l.removeChild(a),s.removeClass(r,"pswp__caption--empty")),u&&(u.children[0].onclick=null),s.removeClass(l,"pswp__ui--over-close"),s.addClass(l,"pswp__ui--hidden"),w.setIdle(!1)}),g.showAnimationDuration||s.removeClass(l,"pswp__ui--hidden"),e("initialZoomIn",function(){g.showAnimationDuration&&s.removeClass(l,"pswp__ui--hidden")}),e("initialZoomOut",function(){s.addClass(l,"pswp__ui--hidden")}),e("parseVerticalMargin",R),function(){var o,r,a,e=function(e){if(e)for(var t=e.length,n=0;n<t;n++){o=e[n],r=o.className;for(var i=0;i<W.length;i++)a=W[i],-1<r.indexOf("pswp__"+a.name)&&(g[a.option]?(s.removeClass(o,"pswp__element--disabled"),a.onInit&&a.onInit(o)):s.addClass(o,"pswp__element--disabled"))}};e(l.children);var t=s.getChildByClass(l,"pswp__top-bar");t&&e(t.children)}(),g.shareEl&&i&&u&&(I=!0),T(),g.timeToIdle&&e("mouseUsed",function(){s.bind(document,"mousemove",L),s.bind(document,"mouseout",D),v=setInterval(function(){2==++F&&w.setIdle(!0)},g.timeToIdle/2)}),g.fullscreenEl&&!s.features.isOldAndroid&&(n||(n=w.getFullscreenAPI()),n?(s.bind(document,n.eventK,w.updateFullscreen),w.updateFullscreen(),s.addClass(o.template,"pswp--supports-fs")):s.removeClass(o.template,"pswp--supports-fs")),g.preloaderEl&&(M(!0),e("beforeChange",function(){clearTimeout(m),m=setTimeout(function(){o.currItem&&o.currItem.loading?(!o.allowProgressiveImg()||o.currItem.img&&!o.currItem.img.naturalWidth)&&M(!1):M(!0)},g.loadingIndicatorDelay)}),e("imageLoadComplete",function(e,t){o.currItem===t&&M(!0)}))},w.setIdle=function(e){C(l,"ui--idle",d=e)},w.update=function(){x=!(!E||!o.currItem||(w.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(o.currItem,r),C(r,"caption--empty",!o.currItem.title)),0)),I||P(),T()},w.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,s.getScrollY())},50),s[(n.isFullscreen()?"add":"remove")+"Class"](o.template,"pswp--fs")},w.updateIndexIndicator=function(){g.counterEl&&(t.innerHTML=o.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},w.onGlobalTap=function(e){var t=(e=e||window.event).target||e.srcElement;if(!y)if(e.detail&&"mouse"===e.detail.pointerType){if(z(t))return void o.close();s.hasClass(t,"pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?g.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(e.detail.releasePoint))}else if(g.tapToToggleControls&&(E?w.hideControls():w.showControls()),g.tapToClose&&(s.hasClass(t,"pswp__img")||z(t)))return void o.close()},w.onMouseOver=function(e){var t=(e=e||window.event).target||e.srcElement;C(l,"ui--over-close",z(t))},w.hideControls=function(){s.addClass(l,"pswp__ui--hidden"),E=!1},w.showControls=function(){E=!0,x||w.update(),s.removeClass(l,"pswp__ui--hidden")},w.supportsFullscreen=function(){var e=document;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},w.getFullscreenAPI=function(){var e,t=document.documentElement,n="fullscreenchange";return t.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:t.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:t.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:t.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return o.template[this.enterK]();o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return g.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}}),function(t,n){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("jquery")):t.jQueryBridget=n(t,t.jQuery)}(window,function(e,t){"use strict";var d=Array.prototype.slice,n=e.console,p=void 0===n?function(){}:function(e){n.error(e)};function i(u,o,c){(c=c||t||e.jQuery)&&(o.prototype.option||(o.prototype.option=function(e){c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e))}),c.fn[u]=function(e){if("string"!=typeof e)return i=e,this.each(function(e,t){var n=c.data(t,u);n?(n.option(i),n._init()):(n=new o(t,i),c.data(t,u,n))}),this;var t,r,a,s,l,i,n=d.call(arguments,1);return a=n,l="$()."+u+'("'+(r=e)+'")',(t=this).each(function(e,t){var n=c.data(t,u);if(n){var i=n[r];if(i&&"_"!=r.charAt(0)){var o=i.apply(n,a);s=void 0===s?o:s}else p(l+" is not a valid method")}else p(u+" not initialized. Cannot call methods, i.e. "+l)}),void 0!==s?s:t},r(c))}function r(e){!e||e&&e.bridget||(e.bridget=i)}return r(t||e.jQuery),i}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function y(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var n="undefined"==typeof console?function(){}:function(e){console.error(e)},v=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],b=v.length;function w(e){var t=getComputedStyle(e);return t||n("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),t}var x,E=!1;function I(e){if(function(){if(!E){E=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var t=document.body||document.documentElement;t.appendChild(e);var n=w(e);x=200==Math.round(y(n.width)),I.isBoxSizeOuter=x,t.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=w(e);if("none"==t.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<b;t++)e[v[t]]=0;return e}();var n={};n.width=e.offsetWidth,n.height=e.offsetHeight;for(var i=n.isBorderBox="border-box"==t.boxSizing,o=0;o<b;o++){var r=v[o],a=t[r],s=parseFloat(a);n[r]=isNaN(s)?0:s}var l=n.paddingLeft+n.paddingRight,u=n.paddingTop+n.paddingBottom,c=n.marginLeft+n.marginRight,d=n.marginTop+n.marginBottom,p=n.borderLeftWidth+n.borderRightWidth,h=n.borderTopWidth+n.borderBottomWidth,m=i&&x,f=y(t.width);!1!==f&&(n.width=f+(m?0:l+p));var g=y(t.height);return!1!==g&&(n.height=g+(m?0:u+h)),n.innerWidth=n.width-(l+p),n.innerHeight=n.height-(u+h),n.outerWidth=n.width+c,n.outerHeight=n.height+d,n}}return I}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var n=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var i=t[n]+"MatchesSelector";if(e[i])return i}}();return function(e,t){return e[n](t)}}),function(t,n){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("desandro-matches-selector")):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(u,r){var c={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},t=Array.prototype.slice;c.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?t.call(e):[e]},c.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},c.getParent=function(e,t){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,r(e,t))return e},c.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},c.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},c.filterFindElements=function(e,i){e=c.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(i){r(e,i)&&o.push(e);for(var t=e.querySelectorAll(i),n=0;n<t.length;n++)o.push(t[n])}else o.push(e)}),o},c.debounceMethod=function(e,t,i){i=i||100;var o=e.prototype[t],r=t+"Timeout";e.prototype[t]=function(){var e=this[r];clearTimeout(e);var t=arguments,n=this;this[r]=setTimeout(function(){o.apply(n,t),delete n[r]},i)}},c.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},c.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var d=u.console;return c.htmlInit=function(s,l){c.docReady(function(){var e=c.toDashed(l),o="data-"+e,t=document.querySelectorAll("["+o+"]"),n=document.querySelectorAll(".js-"+e),i=c.makeArray(t).concat(c.makeArray(n)),r=o+"-options",a=u.jQuery;i.forEach(function(t){var e,n=t.getAttribute(o)||t.getAttribute(r);try{e=n&&JSON.parse(n)}catch(e){return void(d&&d.error("Error parsing "+o+" on "+t.className+": "+e))}var i=new s(t,e);a&&a.data(t,l,i)})})},c}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";var n=document.documentElement.style,i="string"==typeof n.transition?"transition":"WebkitTransition",o="string"==typeof n.transform?"transform":"WebkitTransform",r={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[i],a={transform:o,transition:i,transitionDuration:i+"Duration",transitionProperty:i+"Property",transitionDelay:i+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e){t[a[n]||n]=e[n]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),i=e[t?"left":"right"],o=e[n?"top":"bottom"],r=parseFloat(i),a=parseFloat(o),s=this.layout.size;-1!=i.indexOf("%")&&(r=r/100*s.width),-1!=o.indexOf("%")&&(a=a/100*s.height),r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=t?s.paddingLeft:s.paddingRight,a-=n?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),o=n?"paddingLeft":"paddingRight",r=n?"left":"right",a=n?"right":"left",s=this.position.x+e[o];t[r]=this.getXValue(s),t[a]="";var l=i?"paddingTop":"paddingBottom",u=i?"top":"bottom",c=i?"bottom":"top",d=this.position.y+e[l];t[u]=this.getYValue(d),t[c]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,i=this.position.y,o=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!o||this.isTransitioning){var r=e-n,a=t-i,s={};s.transform=this.getTranslate(r,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var u="opacity,"+o.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:u,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(r,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=c[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd)t.onEnd[n].call(this),delete t.onEnd[n];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(r,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){i&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s}),function(o,r){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,n,i){return r(o,e,t,n,i)}):"object"==typeof module&&module.exports?module.exports=r(o,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=r(o,o.EvEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(e,t,o,r,i){"use strict";var a=e.console,s=e.jQuery,n=function(){},l=0,u={};function c(e,t){var n=r.getQueryElement(e);if(n){this.element=n,s&&(this.$element=s(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var i=++l;this.element.outlayerGUID=i,(u[i]=this)._create(),this._getOption("initLayout")&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(n||e))}c.namespace="outlayer",c.Item=i,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=c.prototype;function p(e){function t(){e.apply(this,arguments)}return(t.prototype=Object.create(e.prototype)).constructor=t}r.extend(d,t.prototype),d.option=function(e){r.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,i=[],o=0;o<t.length;o++){var r=new n(t[o],this);i.push(r)}return i},d._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map(function(e){return e.element})},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=o(this.element)},d._getMeasurement=function(e,t){var n,i=this.options[e];this[e]=i?("string"==typeof i?n=this.element.querySelector(i):i instanceof HTMLElement&&(n=i),n?o(n)[t]:i):0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},d._layoutItems=function(e,n){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach(function(e){var t=this._getItemLayoutPosition(e);t.item=e,t.isInstant=n||e.isLayoutInstant,i.push(t)},this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],i=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var o=h[i]||1;return n*o}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,n,i,o){i?e.goTo(t,n):(e.stagger(o*this.stagger),e.moveTo(t,n))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=n,d._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(t,e){var n=this;function i(){n.dispatchEvent(t+"Complete",null,[e])}var o=e.length;if(e&&o){var r=0;e.forEach(function(e){e.once(t,a)})}else i();function a(){++r==o&&i()}},d.dispatchEvent=function(e,t,n){var i=t?[t].concat(n):n;if(this.emitEvent(e,i),s)if(this.$element=this.$element||s(this.element),t){var o=s.Event(t);o.type=e,this.$element.trigger(o,n)}else this.$element.trigger(e,n)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){r.removeFrom(this.stamps,e),this.unignore(e)},this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=n,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,i=o(e);return{left:t.left-n.left-i.marginLeft,top:t.top-n.top-i.marginTop,right:n.right-t.right-i.marginRight,bottom:n.bottom-t.bottom-i.marginBottom}},d.handleEvent=r.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},r.debounceMethod(c,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=o(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var n=this.updateStagger();e.forEach(function(e,t){e.stagger(t*n),e.reveal()})}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var n=this.updateStagger();e.forEach(function(e,t){e.stagger(t*n),e.hide()})}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},d.getItems=function(e){e=r.makeArray(e);var n=[];return e.forEach(function(e){var t=this.getItem(e);t&&n.push(t)},this),n},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),r.removeFrom(this.items,e)},this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete u[t],delete this.element.outlayerGUID,s&&s.removeData(this.element,this.constructor.namespace)},c.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&u[t]},c.create=function(e,t){var n=p(c);return n.defaults=r.extend({},c.defaults),r.extend(n.defaults,t),n.compatOptions=r.extend({},c.compatOptions),n.namespace=e,n.data=c.data,n.Item=p(i),r.htmlInit(n,e),s&&s.bridget&&s.bridget(e,n),n};var h={ms:1,s:1e3};return c.Item=i,c}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,u){var t=e.create("masonry");t.compatOptions.fitWidth="isFitWidth";var n=t.prototype;return n._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},n.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&u(t).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/n,r=n-i%n;o=Math[r&&r<1?"round":"floor"](o),this.cols=Math.max(o,1)},n.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,t=u(e);this.containerWidth=t&&t.innerWidth},n._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var i=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),o={x:this.columnWidth*i.col,y:i.y},r=i.y+e.size.outerHeight,a=n+i.col,s=i.col;s<a;s++)this.colYs[s]=r;return o},n._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},n._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,i=0;i<n;i++)t[i]=this._getColGroupY(i,e);return t},n._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},n._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=1<e&&n+e>this.cols?0:n;var i=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=i?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},n._manageStamp=function(e){var t=u(e),n=this._getElementOffset(e),i=this._getOption("originLeft")?n.left:n.right,o=i+t.outerWidth,r=Math.floor(i/this.columnWidth);r=Math.max(0,r);var a=Math.floor(o/this.columnWidth);a-=o%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var s=(this._getOption("originTop")?n.top:n.bottom)+t.outerHeight,l=r;l<=a;l++)this.colYs[l]=Math.max(s,this.colYs[l])},n._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},n._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},n.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},t}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var i=this._onceEvents&&this._onceEvents[e],o=0;o<n.length;o++){var r=n[o];i&&i[r]&&(this.off(e,r),delete i[r]),r.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e}),function(t,n){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(e){return n(t,e)}):"object"==typeof module&&module.exports?module.exports=n(t,require("ev-emitter")):t.imagesLoaded=n(t,t.EvEmitter)}("undefined"!=typeof window?window:this,function(t,e){var r=t.jQuery,a=t.console;function s(e,t){for(var n in t)e[n]=t[n];return e}var l=Array.prototype.slice;function u(e,t,n){if(!(this instanceof u))return new u(e,t,n);var i,o=e;("string"==typeof e&&(o=document.querySelectorAll(e)),o)?(this.elements=(i=o,Array.isArray(i)?i:"object"==typeof i&&"number"==typeof i.length?l.call(i):[i]),this.options=s({},this.options),"function"==typeof t?n=t:s(this.options,t),n&&this.on("always",n),this.getImages(),r&&(this.jqDeferred=new r.Deferred),setTimeout(this.check.bind(this))):a.error("Bad element for imagesLoaded "+(o||e))}(u.prototype=Object.create(e.prototype)).options={},u.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},u.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var o=n[i];this.addImage(o)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(i=0;i<r.length;i++){var a=r[i];this.addElementBackgroundImages(a)}}}};var c={1:!0,9:!0,11:!0};function n(e){this.img=e}function i(e,t){this.url=e,this.element=t,this.img=new Image}return u.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var o=i&&i[2];o&&this.addBackground(o,e),i=n.exec(t.backgroundImage)}},u.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},u.prototype.addBackground=function(e,t){var n=new i(e,t);this.images.push(n)},u.prototype.check=function(){var i=this;function t(e,t,n){setTimeout(function(){i.progress(e,t,n)})}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},u.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&a&&a.log("progress: "+n,e,t)},u.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(n.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},n.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},n.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(i.prototype=Object.create(n.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},i.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},u.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((r=e).fn.imagesLoaded=function(e,t){return new u(this,e,t).jqDeferred.promise(r(this))})},u.makeJQueryPlugin(),u});var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var l=/\blang(?:uage)?-([\w-]+)\b/i,t=0,z=_self.Prism={manual:_self.Prism&&_self.Prism.manual,disableWorkerMessageHandler:_self.Prism&&_self.Prism.disableWorkerMessageHandler,util:{encode:function(e){return e instanceof a?new a(e.type,z.util.encode(e.content),e.alias):"Array"===z.util.type(e)?e.map(z.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e,n){var t=z.util.type(e);switch(n=n||{},t){case"Object":if(n[z.util.objId(e)])return n[z.util.objId(e)];var i={};for(var o in n[z.util.objId(e)]=i,e)e.hasOwnProperty(o)&&(i[o]=z.util.clone(e[o],n));return i;case"Array":if(n[z.util.objId(e)])return n[z.util.objId(e)];i=[];return n[z.util.objId(e)]=i,e.forEach(function(e,t){i[t]=z.util.clone(e,n)}),i}return e}},languages:{extend:function(e,t){var n=z.util.clone(z.languages[e]);for(var i in t)n[i]=t[i];return n},insertBefore:function(n,e,t,i){var o=(i=i||z.languages)[n];if(2==arguments.length){for(var r in t=e)t.hasOwnProperty(r)&&(o[r]=t[r]);return o}var a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==e)for(var r in t)t.hasOwnProperty(r)&&(a[r]=t[r]);a[s]=o[s]}return z.languages.DFS(z.languages,function(e,t){t===i[n]&&e!=n&&(this[e]=a)}),i[n]=a},DFS:function(e,t,n,i){for(var o in i=i||{},e)e.hasOwnProperty(o)&&(t.call(e,o,e[o],n||o),"Object"!==z.util.type(e[o])||i[z.util.objId(e[o])]?"Array"!==z.util.type(e[o])||i[z.util.objId(e[o])]||(i[z.util.objId(e[o])]=!0,z.languages.DFS(e[o],t,o,i)):(i[z.util.objId(e[o])]=!0,z.languages.DFS(e[o],t,null,i)))}},plugins:{},highlightAll:function(e,t){z.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var i={callback:n,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};z.hooks.run("before-highlightall",i);for(var o,r=i.elements||e.querySelectorAll(i.selector),a=0;o=r[a++];)z.highlightElement(o,!0===t,i.callback)},highlightElement:function(e,t,n){for(var i,o,r=e;r&&!l.test(r.className);)r=r.parentNode;r&&(i=(r.className.match(l)||[,""])[1].toLowerCase(),o=z.languages[i]),e.className=e.className.replace(l,"").replace(/\s+/g," ")+" language-"+i,e.parentNode&&(r=e.parentNode,/pre/i.test(r.nodeName)&&(r.className=r.className.replace(l,"").replace(/\s+/g," ")+" language-"+i));var a={element:e,language:i,grammar:o,code:e.textContent};if(z.hooks.run("before-sanity-check",a),!a.code||!a.grammar)return a.code&&(z.hooks.run("before-highlight",a),a.element.textContent=a.code,z.hooks.run("after-highlight",a)),void z.hooks.run("complete",a);if(z.hooks.run("before-highlight",a),t&&_self.Worker){var s=new Worker(z.filename);s.onmessage=function(e){a.highlightedCode=e.data,z.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,n&&n.call(a.element),z.hooks.run("after-highlight",a),z.hooks.run("complete",a)},s.postMessage(JSON.stringify({language:a.language,code:a.code,immediateClose:!0}))}else a.highlightedCode=z.highlight(a.code,a.grammar,a.language),z.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,n&&n.call(e),z.hooks.run("after-highlight",a),z.hooks.run("complete",a)},highlight:function(e,t,n){var i={code:e,grammar:t,language:n};return z.hooks.run("before-tokenize",i),i.tokens=z.tokenize(i.code,i.grammar),z.hooks.run("after-tokenize",i),a.stringify(z.util.encode(i.tokens),i.language)},matchGrammar:function(e,t,n,i,o,r,a){var s=z.Token;for(var l in n)if(n.hasOwnProperty(l)&&n[l]){if(l==a)return;var u=n[l];u="Array"===z.util.type(u)?u:[u];for(var c=0;c<u.length;++c){var d=u[c],p=d.inside,h=!!d.lookbehind,m=!!d.greedy,f=0,g=d.alias;if(m&&!d.pattern.global){var y=d.pattern.toString().match(/[imuy]*$/)[0];d.pattern=RegExp(d.pattern.source,y+"g")}d=d.pattern||d;for(var v=i,b=o;v<t.length;b+=t[v].length,++v){var w=t[v];if(t.length>e.length)return;if(!(w instanceof s)){if(m&&v!=t.length-1){if(d.lastIndex=b,!(C=d.exec(e)))break;for(var x=C.index+(h?C[1].length:0),E=C.index+C[0].length,I=v,_=b,k=t.length;I<k&&(_<E||!t[I].type&&!t[I-1].greedy);++I)(_+=t[I].length)<=x&&(++v,b=_);if(t[v]instanceof s)continue;T=I-v,w=e.slice(b,_),C.index-=b}else{d.lastIndex=0;var C=d.exec(w),T=1}if(C){h&&(f=C[1]?C[1].length:0);E=(x=C.index+f)+(C=C[0].slice(f)).length;var S=w.slice(0,x),P=w.slice(E),A=[v,T];S&&(++v,b+=S.length,A.push(S));var O=new s(l,p?z.tokenize(C,p):C,g,C,m);if(A.push(O),P&&A.push(P),Array.prototype.splice.apply(t,A),1!=T&&z.matchGrammar(e,t,n,v,b,!0,l),r)break}else if(r)break}}}}},tokenize:function(e,t,n){var i=[e],o=t.rest;if(o){for(var r in o)t[r]=o[r];delete t.rest}return z.matchGrammar(e,i,t,0,0,!1),i},hooks:{all:{},add:function(e,t){var n=z.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=z.hooks.all[e];if(n&&n.length)for(var i,o=0;i=n[o++];)i(t)}}},a=z.Token=function(e,t,n,i,o){this.type=e,this.content=t,this.alias=n,this.length=0|(i||"").length,this.greedy=!!o};if(a.stringify=function(t,n,e){if("string"==typeof t)return t;if("Array"===z.util.type(t))return t.map(function(e){return a.stringify(e,n,t)}).join("");var i={type:t.type,content:a.stringify(t.content,n,e),tag:"span",classes:["token",t.type],attributes:{},language:n,parent:e};if(t.alias){var o="Array"===z.util.type(t.alias)?t.alias:[t.alias];Array.prototype.push.apply(i.classes,o)}z.hooks.run("wrap",i);var r=Object.keys(i.attributes).map(function(e){return e+'="'+(i.attributes[e]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+i.tag+' class="'+i.classes.join(" ")+'"'+(r?" "+r:"")+">"+i.content+"</"+i.tag+">"},!_self.document)return _self.addEventListener&&(z.disableWorkerMessageHandler||_self.addEventListener("message",function(e){var t=JSON.parse(e.data),n=t.language,i=t.code,o=t.immediateClose;_self.postMessage(z.highlight(i,z.languages[n],n)),o&&_self.close()},!1)),_self.Prism;var e=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return e&&(z.filename=e.src,z.manual||e.hasAttribute("data-manual")||("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(z.highlightAll):window.setTimeout(z.highlightAll,16):document.addEventListener("DOMContentLoaded",z.highlightAll))),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism),Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/(^|[^\\])["']/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Prism.languages.xml=Prism.languages.markup,Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^{}\s][^{};]*?(?=\s*\{)/,string:{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},Prism.languages.css.atrule.inside.rest=Prism.languages.css,Prism.languages.markup&&(Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:!0,inside:Prism.languages.css,alias:"language-css",greedy:!0}}),Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[[^\]\r\n]+]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=\s*(?:function\b|(?:\([^()]*\)|[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/i,alias:"function"},constant:/\b[A-Z][A-Z\d_]*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}}}),Prism.languages.javascript["template-string"].inside.interpolation.inside.rest=Prism.languages.javascript,Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,inside:Prism.languages.javascript,alias:"language-javascript",greedy:!0}}),Prism.languages.js=Prism.languages.javascript,"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(e){for(var t,n=e.getAttribute("data-src"),i=e,o=/\blang(?:uage)?-([\w-]+)\b/i;i&&!o.test(i.className);)i=i.parentNode;if(i&&(t=(e.className.match(o)||[,""])[1]),!t){var r=(n.match(/\.(\w+)$/)||[,""])[1];t=l[r]||r}var a=document.createElement("code");a.className="language-"+t,e.textContent="",a.textContent="Loading",e.appendChild(a);var s=new XMLHttpRequest;s.open("GET",n,!0),s.onreadystatechange=function(){4==s.readyState&&(s.status<400&&s.responseText?(a.textContent=s.responseText,Prism.highlightElement(a)):400<=s.status?a.textContent=" Error "+s.status+" while fetching file: "+s.statusText:a.textContent=" Error: File does not exist or is empty")},s.send(null)}),Prism.plugins.toolbar&&Prism.plugins.toolbar.registerButton("download-file",function(e){var t=e.element.parentNode;if(t&&/pre/i.test(t.nodeName)&&t.hasAttribute("data-src")&&t.hasAttribute("data-download-link")){var n=t.getAttribute("data-src"),i=document.createElement("a");return i.textContent=t.getAttribute("data-download-link-label")||"Download",i.setAttribute("download",""),i.href=n,i}})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight)),function(e){var t={variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[\w#?*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)["']?(\w+?)["']?\s*\r?\n(?:[\s\S])*?\r?\n\2/,lookbehind:!0,greedy:!0,inside:t},{pattern:/(["'])(?:\\[\s\S]|\$\([^)]+\)|`[^`]+`|(?!\1)[^\\])*\1/,greedy:!0,inside:t}],variable:t.variable,function:{pattern:/(^|[\s;|&])(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|npm|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|[\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&])(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|[\s;|&])/,lookbehind:!0},boolean:{pattern:/(^|[\s;|&])(?:true|false)(?=$|[\s;|&])/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var n=t.variable[1].inside;n.string=e.languages.bash.string,n.function=e.languages.bash.function,n.keyword=e.languages.bash.keyword,n.boolean=e.languages.bash.boolean,n.operator=e.languages.bash.operator,n.punctuation=e.languages.bash.punctuation,e.languages.shell=e.languages.bash}(Prism),Prism.languages.json={property:/"(?:\\.|[^\\"\r\n])*"(?=\s*:)/i,string:{pattern:/"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,greedy:!0},number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,punctuation:/[{}[\]);,]/,operator:/:/g,boolean:/\b(?:true|false)\b/i,null:/\bnull\b/i},Prism.languages.jsonp=Prism.languages.json,Prism.languages.groovy=Prism.languages.extend("clike",{keyword:/\b(?:as|def|in|abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,string:[{pattern:/("""|''')[\s\S]*?\1|(?:\$\/)(?:\$\/\$|[\s\S])*?\/\$/,greedy:!0},{pattern:/(["'\/])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0}],number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?[\d]+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.{1,2}(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),Prism.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment"}}),Prism.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:setup|given|when|then|and|cleanup|expect|where):/}),Prism.languages.insertBefore("groovy","function",{annotation:{alias:"punctuation",pattern:/(^|[^.])@\w+/,lookbehind:!0}}),Prism.hooks.add("wrap",function(e){if("groovy"===e.language&&"string"===e.type){var t=e.content[0];if("'"!=t){var n=/([^\\])(?:\$(?:\{.*?\}|[\w.]+))/;"$"===t&&(n=/([^\$])(?:\$(?:\{.*?\}|[\w.]+))/),e.content=e.content.replace(/&lt;/g,"<").replace(/&amp;/g,"&"),e.content=Prism.highlight(e.content,{expression:{pattern:n,lookbehind:!0,inside:Prism.languages.groovy}}),e.classes.push("/"===t?"regex":"gstring")}}});var images,initPhotoSwipeFromDOM=function(e){for(var t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(e.target||e.srcElement,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(t){for(var n,i=t.parentNode,o=t.parentNode.childNodes,r=o.length,a=0,s=0;s<r;s++)if(1===o[s].nodeType){if(o[s]===t){n=a;break}a++}return 0<=n&&l(n,i),!1}},l=function(e,t,n,i){var o,r,a=document.querySelectorAll(".pswp")[0];if(r=function(e){for(var t,n,i,o,r=e.childNodes,a=r.length,s=[],l=0;l<a;l++)1===(t=r[l]).nodeType&&(i=(n=t.children[0]).getAttribute("data-size").split("x"),o={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},1<t.children.length&&(o.title=t.children[1].innerHTML),0<n.children.length&&(o.msrc=n.children[0].getAttribute("src")),o.el=t,s.push(o));return s}(t),o={galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=r[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},i)if(o.galleryPIDs){for(var s=0;s<r.length;s++)if(r[s].pid===e){o.index=s;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(n&&(o.showAnimationDuration=0),new PhotoSwipe(a,PhotoSwipeUI_Default,r,o).init())},n=document.querySelectorAll(e),i=0,o=n.length;i<o;i++)n[i].setAttribute("data-pswp-uid",i+1),n[i].onclick=t;var r=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(t[o[0]]=o[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();r.pid&&r.gid&&l(r.pid,n[r.gid-1],!0,!0)};if(0<(images=document.querySelectorAll(".galleryimage")).length){initPhotoSwipeFromDOM(".gallery");var galleries=document.querySelectorAll(".gallery");imagesLoaded(images,function(){for(var e=0,t=galleries.length;e<t;e++){var n=galleries[e],i=Number(n.dataset.colwidth);new Masonry(n,{itemSelector:".grid-item",columnWidth:i})}})}function TableOfContents(){var e,a="",s=2;0<document.querySelectorAll("#toc").length&&((e=document.querySelector("#articlebody")).innerHTML=e.innerHTML.replace(/<h([\d])(.*)>([^<]+)<\/h([\d])>/gi,function(e,t,n,i,o){return function(e,t,n,i,o){if(t!=o)return e;a+=s<t?new Array(t-s+1).join("<ul>"):t<s?new Array(s-t+1).join("</li></ul>"):new Array(s+1).join("</li>"),s=parseInt(t);var r=i.replace(/ /g,"_");return a+='<li><a href="#'+r+'">'+i+"</a>","<h"+t+'><a href="#'+r+'" id="'+r+'">'+i+"</a></h"+o+">"}(e,t,0,i,o)}),s&&(a+=new Array(s+1).join("</ul>")),document.querySelector("#toc-content").innerHTML+=a)}if(0<(images=document.querySelectorAll(".galleryimage")).length){initPhotoSwipeFromDOM(".gallery");var elem=document.querySelector(".gallery");imagesLoaded(images,function(){var e=Number(elem.dataset.colwidth);new Masonry(elem,{itemSelector:".grid-item",columnWidth:e})})}TableOfContents();